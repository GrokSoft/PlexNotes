<!--
  ~ Copyright (c) 2016. GrokSoft LLC - All Rights Reserved
  -->

<div class="fluid">

    <h4 class="note-header">

        <!--<span id="chevron{{note.id}}" href="javascript:;"
                class="glyphicon glyphicon-chevron-down grow"
                style="font-size: x-large" data-toggle="collapse"
                data-target="#collapse-note{{note.id}}"
                ng-click="pnCtrl.toggleCollapse('chevron'+note.id)"
                title="Click to Toggle Collapse state of note titles">
        </span>-->

        <a class="glyphicon glyphicon-zoom-in"
                style="color: #eeeeee"
                ng-click="zoom('note'+note.id, $event)"
                title="Click to toggle the hover zoom for this note"></a> {{note.title}} <a style="color: #eeeeee;
    text-decoration: none"
            class="pull-right grow glyphicon glyphicon-trash"
            ng-click="deleteNote(note.id)"
            ng-confirm-click="You are about to delete this note, are you sure you wish to continue?"
            title="Click this to delete the note."></a>
    </h4>

    <div id="collapse-note{{note.id}}"
            class="collapse in">
        <div class="panel-body">
            <div class=" note-sub-header">
                <h4 style="border-bottom: solid thin">
                    <span><b>Note#</b> {{note.id}}</span>

                    <span class="pull-right">
                        <span><b>Status:</b> {{statuses()[note.status]}}</span>
                        <!-- <a href="{{note.html_url}}">
                             <span class="github grow grow-box-shadow"
                                     title="View the note on GetHub"></span>
                         </a>-->
                    </span>
                </h4>
                <h4 class="bordered text-left"
                        style="height: 18px; margin-left: -8px">

                    <span class="grow badge"
                            ng-click="isCollapsedNote = !isCollapsedNote"
                            title="Click to Toggle Collapse state of note titles">
                        <span id="chevron-note-titles"
                                class="glyphicon glyphicon-chevron-up ease-all"
                                ng-class="[{'gly-rotate-180':isCollapsedNote}]"></span>
                        <!--<span style="font-size: x-large">Click to Toggle Collapse of all notes</span>-->
                    </span>
                    <span><b>User:</b> {{note.user}}
                        <span class="glyphicon glyphicon-envelope"
                                ng-show="note.emailme==true"
                                title="{{note.user}} will be emailed when the note is resolved"></span>
                    </span>
                    <span class="pull-right"><b>Priority:</b> {{priorities()[note.priority]}}</span>

                </h4>
            </div>

            <!--<div class="ease-all horizontal-collapse"
                    uib-collapse-width-height="isCollapsedNote"
                    get-size>
                <div id="details+{{note.id}}"
                        class="note-notes bordered text-left"
                        ng-style="{'width':getSizeWidth()}">
                    &lt;!&ndash;ng-style="{'width':getWidth(this)}"&ndash;&gt;
                    <b>Details:</b> "{{note.details}}"
                </div>
            </div>-->
            <div class="ease-all"
                    uib-collapse="isCollapsedNote" >
                <div id="details+{{note.id}}"
                        class="note-notes bordered text-left">
                    <!--ng-style="{'width':getWidth(this)}"-->
                    <b>Details:</b> "{{note.details}}"
                </div>
            </div>
            <div style="background-color: rgba(71, 71, 71, 1);">
                <span class="grow"
                        ng-click="isCollapsedCat = !isCollapsedCat"
                        title="Click to Toggle Collapse state of note categories">
                    <span id="chevron-categories"
                            class="glyphicon glyphicon-chevron-up ease-all"
                            ng-class="[{'gly-flip-vertical':isCollapsedCat}]"></span>
                </span>
                <b>Categories:</b> <br>
                <div uib-collapse-width-height="isCollapsedCat"
                        get-size>
                    <div class="categories">
                        <div class="category"
                                ng-repeat="category in note.categories">
                            {{categories()[category]}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
